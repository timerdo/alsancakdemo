<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>Alsancak Sanal Stadyum</title>

<style>
  body {
    margin: 0;
    background: #0f172a;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
  }

  h1 {
    margin: 20px 0 5px;
  }

  #info {
    margin-bottom: 10px;
    font-size: 18px;
  }

  svg {
    background: #020617;
    border-radius: 16px;
    margin: 20px auto;
    display: block;
  }

  .seat {
    stroke: #020617;
    stroke-width: 1;
  }

  .empty {
    fill: #16a34a; /* yeşil */
  }

  .filled {
    fill: #dc2626; /* kırmızı */
  }

  input[type="range"] {
    width: 60%;
  }
</style>
</head>

<body>

<h1>Alsancak Sanal Stadyum</h1>
<div id="info">
  SMS: <span id="smsCount">0</span> |
  Doluluk: <span id="percent">0</span>%
</div>

<input type="range" id="smsSlider" min="0" max="1000" value="0">

<svg id="stadium" width="800" height="420"></svg>

<script>
  const svg = document.getElementById("stadium");
  const slider = document.getElementById("smsSlider");
  const smsText = document.getElementById("smsCount");
  const percentText = document.getElementById("percent");

  const rows = 6;
  const cols = 20;
  const seatSize = 28;
  const gap = 6;
  const startX = 60;
  const startY = 60;

  const totalSeats = rows * cols;
  const maxSMS = 1000;

  let seats = [];

  // Koltukları oluştur (blok düzen)
  for (let r = 0; r < rows; r++) {
    for (let c = 0; c < cols; c++) {
      const seat = document.createElementNS("http://www.w3.org/2000/svg", "rect");

      seat.setAttribute("x", startX + c * (seatSize + gap));
      seat.setAttribute("y", startY + r * (seatSize + gap));
      seat.setAttribute("width", seatSize);
      seat.setAttribute("height", seatSize);
      seat.setAttribute("rx", 4);
      seat.classList.add("seat", "empty");

      svg.appendChild(seat);
      seats.push(seat);
    }
  }

  function updateStadium(sms) {
    const filledSeats = Math.round((sms / maxSMS) * totalSeats);
    const percent = Math.round((filledSeats / totalSeats) * 100);

    smsText.textContent = sms;
    percentText.textContent = percent;

    seats.forEach((seat, index) => {
      seat.classList.remove("empty", "filled");
      seat.classList.add(index < filledSeats ? "filled" : "empty");
    });
  }

  slider.addEventListener("input", e => {
    updateStadium(Number(e.target.value));
  });

  updateStadium(0);
</script>

</body>
</html>
